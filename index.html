<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SpinMix — Rubik's Cube Scramble Generator</title>
  <meta name="description" content="SpinMix is a free online scramble generator and visualizer for the Rubik’s Cube (2x2, 3x3, 4x4 and more) with WCA-notation support.">
  <meta property="og:title" content="SpinMix — Rubik's Cube Scramble Generator">
  <meta property="og:description" content="Free scramble generator with visual cross layout. Supports official WCA notation.">
  <meta property="og:image" content="logo-final.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SpinMix — Rubik’s Cube Scramble Generator">
  <meta name="twitter:description" content="Online scramble generator with visual 2D layout.">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="canonical" href="https://spinmix.me/">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .face { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; }
    .sticker { width: 24px; height: 24px; border: 1px solid #999; }
    .U { background: white; }
    .D { background: yellow; }
    .F { background: green; }
    .B { background: blue; }
    .L { background: orange; }
    .R { background: red; }
    @media (max-width: 500px) {
      .sticker { width: 16px; height: 16px; }
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-900 flex flex-col items-center justify-center min-h-screen p-2 space-y-4">
  <img src="logo-final.png" alt="SpinMix logo" class="w-28 h-28 mb-2 mx-auto" />
  <h1 class="text-xl font-bold text-center">SpinMix — Rubik's Cube Scramble Generator</h1>
  <p class="text-center text-gray-700 max-w-lg">Free scramble generator with WCA notation and visual 2D cube layout.</p>

  <div>
    <button onclick="newScramble()" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">New Scramble</button>
    <button onclick="copyScramble()" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">Copy</button>
  </div>

  <div id="scramble" class="text-lg font-mono mt-4 text-center">Loading...</div>

  <!-- Cross layout -->
  <div class="flex flex-col items-center mt-6 space-y-1" style="user-select:none;">
    <div class="flex justify-center">
      <div style="width: 76px;"></div>
      <div id="U" class="face"></div>
      <div style="width: 76px;"></div>
    </div>
    <div class="flex justify-center" style="margin-left:124px;">
	  <div id="L" class="face mr-2"></div>
	  <div id="F" class="face mx-2"></div>
	  <div id="R" class="face mx-2"></div>
	  <div id="B" class="face ml-2"></div>
	</div>

    <div class="flex justify-center">
      <div style="width: 76px;"></div>
      <div id="D" class="face"></div>
      <div style="width: 76px;"></div>
    </div>
  </div>

  <script>
    const stickers = {
      U: 'U', D: 'D', F: 'F', B: 'B', L: 'L', R: 'R'
    };

    let cube = {};

    function initCube() {
      for (let face in stickers) {
        cube[face] = Array(9).fill(stickers[face]);
      }
    }

    function rotateFace(face) {
      const c = [...cube[face]];
      cube[face][0] = c[6]; cube[face][1] = c[3]; cube[face][2] = c[0];
      cube[face][3] = c[7]; cube[face][4] = c[4]; cube[face][5] = c[1];
      cube[face][6] = c[8]; cube[face][7] = c[5]; cube[face][8] = c[2];
    }

    function move(face, times = 1) {
      const map = {
        U: ['F', 'R', 'B', 'L', [0,1,2]],
        D: ['F', 'L', 'B', 'R', [6,7,8]],
        F: ['U', 'R', 'D', 'L', [6,7,8]],
        B: ['U', 'L', 'D', 'R', [2,1,0]],
        L: ['U', 'F', 'D', 'B', [0,3,6]],
        R: ['U', 'B', 'D', 'F', [2,5,8]]
      };

      for (let i = 0; i < times; i++) {
        rotateFace(face);
        const [f1, f2, f3, f4, idxs] = map[face];
        const temp = idxs.map(i => cube[f1][i]);
        idxs.forEach((i, j) => cube[f1][i] = cube[f4][idxs[j]]);
        idxs.forEach((i, j) => cube[f4][i] = cube[f3][idxs[j]]);
        idxs.forEach((i, j) => cube[f3][i] = cube[f2][idxs[j]]);
        idxs.forEach((i, j) => cube[f2][i] = temp[j]);
      }
    }

    function applyScramble(scramble) {
      scramble.split(" ").forEach(m => {
        if (!m) return;
        const base = m[0];
        const count = m.endsWith("2") ? 2 : m.endsWith("'") ? 3 : 1;
        move(base, count);
      });
    }

    function renderCube() {
      for (let face in cube) {
        const el = document.getElementById(face);
        el.innerHTML = '';
        cube[face].forEach(c => {
          const div = document.createElement("div");
          div.className = "sticker " + c;
          el.appendChild(div);
        });
      }
      adaptUI();
    }

    function randomScramble(length = 20) {
      const faces = ['U','D','L','R','F','B'];
      const mods = ["", "'", "2"];
      let result = [], last = "";

      while (result.length < length) {
        const f = faces[Math.floor(Math.random() * 6)];
        if (f === last) continue;
        last = f;
        const mod = mods[Math.floor(Math.random() * 3)];
        result.push(f + mod);
      }
      return result.join(" ");
    }

    function newScramble() {
      const s = randomScramble();
      document.getElementById("scramble").innerText = s;
      initCube();
      applyScramble(s);
      renderCube();
    }

    function copyScramble() {
      const text = document.getElementById("scramble").innerText;
      navigator.clipboard.writeText(text);
    }

    function adaptUI() {
      const w = window.innerWidth;
      const scale = w < 500 ? 16 : w < 1000 ? 24 : 32;
      const stickers = document.querySelectorAll('.sticker');
      stickers.forEach(s => {
        s.style.width = scale + "px";
        s.style.height = scale + "px";
      });
      document.getElementById("scramble").style.fontSize = w < 500 ? "1rem" : w < 1000 ? "1.25rem" : "1.5rem";
    }

    window.addEventListener("resize", adaptUI);
    initCube();
    renderCube();
    newScramble();
  </script>
</body>
</html>
